<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>ðŸš— Co-voiturage</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
:root {
    --glass-bg: rgba(255,255,255,.65);
    --glass-border: rgba(255,255,255,.4);
    --accent: #007aff;
    --danger: #ff3b30;
    --text-main: #111;
    --text-muted: #666;
}

body {
    margin: 0;
    padding: 24px;
    font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text",
                 "Segoe UI", Roboto, sans-serif;
    background: linear-gradient(135deg, #e9efff, #f5f7fb, #eef2ff);
    color: var(--text-main);
    overflow-x: hidden;
}

h1 {
    text-align: center;
    font-weight: 600;
    letter-spacing: -0.4px;
    margin-bottom: 28px;
}

/* ---------- GLASS CARD ---------- */
.card {
    position: relative;
    z-index: 1;
    overflow: visible;

    background: var(--glass-bg);
    backdrop-filter: blur(18px) saturate(160%);
    -webkit-backdrop-filter: blur(18px) saturate(160%);
    border: 1px solid var(--glass-border);
    border-radius: 22px;
    padding: 22px;
    margin-bottom: 24px;

    box-shadow:
        0 24px 48px rgba(0,0,0,.08),
        inset 0 1px 0 rgba(255,255,255,.4);
}

/* ---------- FORM ---------- */
.grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 14px;
}

input {
    padding: 14px 16px;
    border-radius: 14px;
    border: 1px solid rgba(0,0,0,.08);
    background: rgba(255,255,255,.75);
    font-size: 15px;
    transition: all .25s ease;
}

input:focus {
    outline: none;
    border-color: var(--accent);
    box-shadow: 0 0 0 4px rgba(0,122,255,.18);
    background: white;
}

/* ---------- BUTTON ---------- */
button {
    grid-column: span 2;
    padding: 14px;
    border-radius: 18px;
    border: none;
    background: linear-gradient(180deg, #4da3ff, #007aff);
    color: white;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    box-shadow:
        0 12px 24px rgba(0,122,255,.35),
        inset 0 1px 0 rgba(255,255,255,.35);
    transition: transform .15s ease, box-shadow .15s ease;
}

button:hover {
    transform: translateY(-1px);
}

button:active {
    transform: scale(.98);
}

/* ---------- RIDES ---------- */
.ride {
    position: relative;
    z-index: 2;

    background: rgba(255,255,255,.78);
    backdrop-filter: blur(14px);
    border-radius: 18px;
    padding: 16px;
    margin-bottom: 14px;
    border: 1px solid rgba(0,0,0,.05);
    box-shadow: 0 10px 20px rgba(0,0,0,.08);
    animation: fadeIn .35s ease;
}

.ride strong {
    font-size: 16px;
}

.ride small {
    display: block;
    color: var(--text-muted);
    margin-top: 4px;
}

.delete {
    display: inline-block;
    margin-top: 6px;
    color: var(--danger);
    font-size: 14px;
    text-decoration: none;
}

.delete:hover {
    text-decoration: underline;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(8px); }
    to { opacity: 1; transform: none; }
}

@media (max-width: 720px) {
    .grid { grid-template-columns: 1fr; }
    button { grid-column: span 1; }
}
</style>
</head>

<body>

<h1>ðŸš— Co-voiturage</h1>

<div class="card">
    <h2>âž• Proposer un trajet</h2>
    <form method="post" class="grid">
        <input name="name" placeholder="Nom" required>
        <input name="contact" placeholder="TÃ©lÃ©phone / Email" required>
        <input name="departure" placeholder="DÃ©part" required>
        <input name="destination" placeholder="Destination" required>
        <input type="date" name="date" required>
        <input type="time" name="time" required>
        <input type="number" name="seats" placeholder="Places" min="1" required>
        <button type="submit">Publier</button>
    </form>
</div>

<div class="card">
    <h2>ðŸ“‹ Trajets disponibles</h2>

    {% if rides %}
        {% for r in rides %}
        <div class="ride">
            <strong>{{ r.departure }} â†’ {{ r.destination }}</strong>
            <small>
                ðŸ•’ {{ r.date }} Ã  {{ r.time }} Â·
                ðŸ‘¤ {{ r.name }} Â·
                ðŸ’º {{ r.seats }} place(s)
            </small>
            ðŸ“ž {{ r.contact }}<br>
            <a class="delete" href="/delete/{{ r.id }}/{{ r.secret }}">Supprimer</a>
        </div>
        {% endfor %}
    {% else %}
        <p style="color:#666;">Aucun trajet disponible</p>
    {% endif %}
</div>

</body>
</html>
