<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>ðŸš— Co-voiturage</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
:root {
    --glass-bg: rgba(255, 255, 255, 0.65);
    --glass-border: rgba(255, 255, 255, 0.35);
    --accent: #007aff;
    --danger: #ff3b30;
    --text-main: #111;
    --text-muted: #666;
}

/* ---------- GLOBAL ---------- */
body {
    margin: 0;
    padding: 24px;
    font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text",
                 "Segoe UI", Roboto, sans-serif;
    background: linear-gradient(
        135deg,
        #e9efff,
        #f5f7fb,
        #eef2ff
    );
    color: var(--text-main);
}

h1 {
    text-align: center;
    font-weight: 600;
    letter-spacing: -0.4px;
    margin-bottom: 28px;
}

/* ---------- GLASS CARD ---------- */
.card {
    background: var(--glass-bg);
    backdrop-filter: blur(18px) saturate(160%);
    -webkit-backdrop-filter: blur(18px) saturate(160%);
    border: 1px solid var(--glass-border);
    border-radius: 20px;
    padding: 22px;
    margin-bottom: 22px;
    box-shadow:
        0 20px 40px rgba(0,0,0,.08),
        inset 0 1px 0 rgba(255,255,255,.4);
}

/* ---------- FORM ---------- */
.grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 14px;
}

input {
    appearance: none;
    padding: 14px 16px;
    border-radius: 14px;
    border: 1px solid rgba(0,0,0,.08);
    background: rgba(255,255,255,.7);
    font-size: 15px;
    transition: all .25s ease;
}

input:focus {
    outline: none;
    border-color: var(--accent);
    box-shadow: 0 0 0 4px rgba(0,122,255,.15);
    background: white;
}

/* ---------- BUTTON ---------- */
button {
    grid-column: span 2;
    padding: 14px;
    border-radius: 16px;
    border: none;
    background: linear-gradient(180deg, #4da3ff, #007aff);
    color: white;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    box-shadow:
        0 10px 20px rgba(0,122,255,.35),
        inset 0 1px 0 rgba(255,255,255,.35);
    transition: transform .15s ease, box-shadow .15s ease;
}

button:hover {
    transform: translateY(-1px);
    box-shadow:
        0 14px 28px rgba(0,122,255,.45);
}

button:active {
    transform: scale(.98);
}

/* ---------- RIDES ---------- */
.ride {
    background: rgba(255,255,255,.75);
    backdrop-filter: blur(14px);
    border-radius: 18px;
    padding: 16px;
    margin-bottom: 14px;
    border: 1px solid rgba(0,0,0,.05);
    box-shadow: 0 10px 20px rgba(0,0,0,.08);
    animation: fadeIn .35s ease;
}

.ride strong {
    font-size: 16px;
}

.ride small {
    color: var(--text-muted);
    display: block;
    margin-top: 4px;
}

.delete {
    display: inline-block;
    margin-top: 6px;
    color: var(--danger);
    font-size: 14px;
    text-decoration: none;
}

.delete:hover {
    text-decoration: underline;
}

/* ---------- ANIMATIONS ---------- */
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(8px);
    }
    to {
        opacity: 1;
        transform: none;
    }
}

/* ---------- MOBILE ---------- */
@media (max-width: 720px) {
    .grid {
        grid-template-columns: 1fr;
    }
    button {
        grid-column: span 1;
    }
}
</style>
</head>

<body>

<h1>ðŸš— Co-voiturage</h1>

<div class="card">
    <h2>âž• Proposer un trajet</h2>
    <form method="post" class="grid">
        <input name="name" placeholder="Nom" required>
        <input name="contact" placeholder="TÃ©lÃ©phone / Email" required>
        <input name="departure" placeholder="DÃ©part" required>
        <input name="destination" placeholder="Destination" required>
        <input type="date" name="date" required>
        <input type="time" name="time" required>
        <input type="number" name="seats" placeholder="Places" min="1" required>
        <button type="submit">Publier</button>
    </form>
</div>

<div class="card">
    <h2>ðŸ“‹ Trajets disponibles</h2>

    {% if rides %}
        {% for r in rides %}
            <div class="ride">
                <strong>{{ r.departure }} â†’ {{ r.destination }}</strong>
                <small>
                    ðŸ•’ {{ r.date }} Ã  {{ r.time }} Â·
                    ðŸ‘¤ {{ r.name }} Â·
                    ðŸ’º {{ r.seats }} place(s)
                </small>
                ðŸ“ž {{ r.contact }}<br>
                <a class="delete" href="/delete/{{ r.id }}/{{ r.secret }}">Supprimer</a>
            </div>
        {% endfor %}
    {% else %}
        <p style="color:#666;">Aucun trajet disponible</p>
    {% endif %}
</div>

</body>
</html>
